<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/img/logo.png"/>
    <title>Bazoka - Nền tảng du lịch hàng đầu thế giới</title>
    <meta name="description" content="Tham gia vòng quay may mắn trên Bazoka để nhận những phần quà hấp dẫn và ưu đãi du lịch độc đáo! Cơ hội trúng thưởng vô tận chỉ có tại Bazoka - Nền tảng du lịch hàng đầu thế giới." />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/vongxoay.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/all.css">

</head>
<body style="background-color: #f8f9fa;">
    <header class="sticky-top">
        <nav id="navbar" class="navbar navbar-expand-lg">
            <div class="container">
              <a class="navbar-brand me-auto" href="index.html"><img src="/img/logo.png" alt="" width="80" height="70">Bazoka</a>         
              <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                  <h5 class="offcanvas-title" id="offcanvasNavbarLabel"><img src="/img/logo.png" alt="" width="80" height="60">Bazoka</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                  <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                    <li class="nav-item">
                      <a class="nav-link mx-lg-2 active" aria-current="page" href="#">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link mx-lg-2" href="Contact.html">Liên hệ dịch vụ khách hàng</a>
                    </li>
                    <li class="nav-item dropdown">
                      <a class="nav-link mx-lg-2 dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Hỗ trợ
                      </a>
                      <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Trợ giúp</a></li>
                        <li><a class="dropdown-item" href="connectParnter.html">Liên hệ chúng tôi</a></li>
                      </ul>
                    </li>
                    <li id="info-user" class="nav-item dropdown" style="display: none;">
                        <a class="nav-link mx-lg-2 dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                          <img id="avarta" src="/img/germany.jpg" alt="" width="25" height="25" style="border-radius: 50px;">
                          <span id="userName"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="userInfo.html#account-general"><i class="fa-solid fa-user me-2 icon-comment"></i>Chỉnh sửa hồ sơ</a></li>
                            <li><a class="dropdown-item" href="userInfo.html#account-my-bookings"><i class="fa-solid fa-hotel me-2 icon-comment"></i>Đặt chỗ của tôi</a></li>
                            <li><a class="dropdown-item" href="discount.html"><i class="fa-solid fa-percent me-2 icon-comment"></i>Mã giảm giá</a></li>
                            <li><a id="logout-link" class="dropdown-item" href="#"><i class="fa-solid fa-right-from-bracket me-2 icon-comment"></i>Đăng xuất</a></li>
                        </ul>
                    </li>
                    <li class="nav-item mt-2">
                        <a id="loginButton" class="mx-lg-2 login-button" href="loginUser.html">Đăng nhập</a>
                        <a id="registerButton" class="mx-lg-2 login-button register-button" href="loginUser.html">Đăng ký</a>
                    </li>
                  </ul>
                </div>
              </div>
              <button class="navbar-toggler pe-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
            </div>
        </nav>    
    </header>
    <main>
        <div class="container min-vh-100 d-flex align-items-center justify-content-center">
            <div class="wheel-container text-center">
                <div class="wheel" role="img" aria-label="Spinning wheel with discount codes">
                    <div class="wheel-inner">
                        <div class="segment" style="--i:1;" data-discount="10% OFF" data-description="Save 10% on your entire purchase!">
                            <img src="/img/giamgia1.jpg" alt="10% discount offer" class="segment-img">
                        </div>
                        <div class="segment" style="--i:2;" data-discount="20% OFF" data-description="Huge 20% discount on selected items!">
                            <img src="/img/giamgia2.png" alt="20% discount offer" class="segment-img">
                        </div>
                        <div class="segment" style="--i:3;" data-discount="30% OFF" data-description="Amazing 30% off on premium products!">
                            <img src="/img/giamgia3.png" alt="30% discount offer" class="segment-img">
                        </div>
                        <div class="segment" style="--i:4;" data-discount="40% OFF" data-description="Incredible 40% savings today only!">
                            <img src="/img/giamgia4.png" alt="40% discount offer" class="segment-img">
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary mt-4 spin-btn" aria-label="Spin the wheel">SPIN</button>
                <div class="modal fade" id="resultModal" tabindex="-1" aria-labelledby="resultModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="resultModalLabel">Congratulations!</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body text-center">
                                <h2 class="discount-text mb-3"></h2>
                                <img class="result-img img-fluid mb-3" alt="Selected discount">
                                <p class="discount-description mb-3"></p>
                                <div class="discount-code p-2 bg-light rounded mb-3">
                                    <span class="code-text fw-bold"></span>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary copy-code">Copy Code</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="error-message alert alert-danger d-none" role="alert">
            An error occurred. Please try again.
        </div>
    </main>
    <footer class="mt-5">
        <section class="w3l-footer-29-main">
            <div class="footer-29">
                <div class="container py-lg-4">
                    <div class="row footer-top-29">
                        <div class=" footer-list-29 footer-1 pr-lg-5 mt-3">
                            <div class="footer-logo mb-3">
                                <a href="#" class="navbar-brand"><img class="logo-bzk" src="/img/logo.png" alt="" width="150" height="150">Bazoka</a>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-6 col-sm-5 col-6 mt-sm-0 mt-3 main-social-footer-29">
                            <h5>Kết nối với Bazoka nhiều hơn tại đây</h5>
                            <a href="#" class="facebook" target="_blank">
                                <span class="fa-brands fa-facebook-f"></span>
                            </a>
                            <a href="#" class="twitter">
                                <span class="fa-brands fa-twitter"></span>
                            </a>
                            <a href="#" class="instagram">
                                <span class="fa-brands fa-instagram"></span>
                            </a>
                            <a href="#" class="likedin">
                                <span class="fa-brands fa-linkedin-in"></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="w3l-copyright">
            <div class="container">
                <div class="row bottom-copies">
                    <p class="col-lg-4 copy-footer-29">Bản quyền © 2024 thuộc về
                        <a href="#" target="_blank">Bazoka</a>
                    </p>
                    <div class="col-lg-8 footer-list-29">
                        <ul class="d-flex text-lg-right">
                            <li>
                                <a href="#"><i class="fa-solid fa-phone mx-2"></i>KH Cá nhân: 1800 588 822 (trong nước) - 84 24 3944 6699 (nước ngoài)</a>
                            </li>
                            <li>
                                <a href="#"><i class="fa-solid fa-phone mx-2"></i>KH Doanh nghiệp: 1800 6556 (trong nước) - 84 24 7303 6556 (nước ngoài)</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const wheel = document.querySelector(".wheel");
            const spinBtn = document.querySelector(".spin-btn");
            const resultModal = new bootstrap.Modal(document.getElementById("resultModal"));
            let isSpinning = false;

            spinBtn.addEventListener("click", () => {
                if (isSpinning) return;
                isSpinning = true;
                spinBtn.disabled = true;

                const segments = document.querySelectorAll(".segment");
                const randomDegrees = Math.floor(Math.random() * 360);
                const rotations = 5;
                const totalDegrees = (rotations * 360) + randomDegrees;

                wheel.style.transition = "transform 5s cubic-bezier(0.17, 0.67, 0.12, 0.99)";
                wheel.style.transform = `rotate(${totalDegrees}deg)`;

                setTimeout(() => {
                    const selectedSegment = segments[Math.floor(randomDegrees / 90)];
                    const discount = selectedSegment.dataset.discount;
                    const description = selectedSegment.dataset.description;
                    const img = selectedSegment.querySelector("img").src;
                    const code = generateDiscountCode();

                    document.querySelector(".discount-text").textContent = discount;
                    document.querySelector(".discount-description").textContent = description;
                    document.querySelector(".result-img").src = img;
                    document.querySelector(".code-text").textContent = code;

                    resultModal.show();

                    wheel.style.transition = "none";
                    wheel.style.transform = `rotate(${randomDegrees}deg)`;
                    isSpinning = false;
                    spinBtn.disabled = false;
                }, 5000);
            });

            document.querySelector(".copy-code").addEventListener("click", function() {
                const code = document.querySelector(".code-text").textContent;
                navigator.clipboard.writeText(code).then(() => {
                    this.textContent = "Copied!";
                    setTimeout(() => this.textContent = "Copy Code", 2000);
                });
            });

            function generateDiscountCode() {
                const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                let code = "";
                for(let i = 0; i < 8; i++) {
                    code += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return code;
            }
        });
    </script>
</body>
</html>